{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DSI\\\\Downloads\\\\konka-ecom\\\\src\\\\contexts\\\\ShoppingContext.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require('axios').default;\n\nexport const ShopContext = /*#__PURE__*/React.createContext();\nexport const ModalContext = /*#__PURE__*/React.createContext();\n\nfunction ShoppingContext({\n  children\n}) {\n  _s();\n\n  const [cartProducts, setCartProducts] = useState({});\n  const [cartVisible, setCartVisible] = useState(false);\n  useEffect(setAllProducts, []);\n\n  function getCategories(allProducts) {\n    return allProducts.reduce((categories, product) => {\n      return categories.some(category => category === product.category) ? categories : [...categories, product.category];\n    }, []);\n  }\n\n  function setAllProducts() {\n    if (!localStorage.getItem(\"Products\") || !localStorage.getItem(\"Categories\")) {\n      axios.get(\"https://fakestoreapi.com/products\").then(resp => {\n        const allProducts = resp.data;\n        const categories = getCategories(allProducts);\n        localStorage.setItem(\"Products\", JSON.stringify(allProducts));\n        localStorage.setItem(\"Categories\", JSON.stringify(categories));\n        setCartProducts({});\n      }).catch(error => {\n        alert(error.stack);\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(ShopContext.Provider, {\n    value: {\n      cartProducts,\n      setCartProducts\n    },\n    children: /*#__PURE__*/_jsxDEV(ModalContext.Provider, {\n      value: {\n        cartVisible,\n        setCartVisible\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(ShoppingContext, \"GP5ggzcyCrQlSUsdmm/uvN+5yR4=\");\n\n_c = ShoppingContext;\nexport default ShoppingContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShoppingContext\");","map":{"version":3,"sources":["C:/Users/DSI/Downloads/konka-ecom/src/contexts/ShoppingContext.js"],"names":["React","useEffect","useState","axios","require","default","ShopContext","createContext","ModalContext","ShoppingContext","children","cartProducts","setCartProducts","cartVisible","setCartVisible","setAllProducts","getCategories","allProducts","reduce","categories","product","some","category","localStorage","getItem","get","then","resp","data","setItem","JSON","stringify","catch","error","alert","stack"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;;;AACA,MAAMC,KAAK,GAAGC,OAAO,CAAC,OAAD,CAAP,CAAiBC,OAA/B;;AAGA,OAAO,MAAMC,WAAW,gBAAGN,KAAK,CAACO,aAAN,EAApB;AACP,OAAO,MAAMC,YAAY,gBAAGR,KAAK,CAACO,aAAN,EAArB;;AAEP,SAASE,eAAT,CAAyB;AAAEC,EAAAA;AAAF,CAAzB,EAAuC;AAAA;;AACnC,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkCV,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACW,WAAD,EAAcC,cAAd,IAAgCZ,QAAQ,CAAC,KAAD,CAA9C;AAEAD,EAAAA,SAAS,CAACc,cAAD,EAAiB,EAAjB,CAAT;;AAEA,WAASC,aAAT,CAAuBC,WAAvB,EAAoC;AAChC,WAAOA,WAAW,CAACC,MAAZ,CAAmB,CAACC,UAAD,EAAaC,OAAb,KAAyB;AAC/C,aAAOD,UAAU,CAACE,IAAX,CAAgBC,QAAQ,IAAIA,QAAQ,KAAKF,OAAO,CAACE,QAAjD,IAA6DH,UAA7D,GAA0E,CAAC,GAAGA,UAAJ,EAAgBC,OAAO,CAACE,QAAxB,CAAjF;AACH,KAFM,EAEJ,EAFI,CAAP;AAGH;;AAED,WAASP,cAAT,GAA0B;AACtB,QAAK,CAACQ,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAF,IAAsC,CAACD,YAAY,CAACC,OAAb,CAAqB,YAArB,CAA3C,EAAgF;AAC5ErB,MAAAA,KAAK,CAACsB,GAAN,CAAU,mCAAV,EACKC,IADL,CACWC,IAAD,IAAU;AACZ,cAAMV,WAAW,GAAGU,IAAI,CAACC,IAAzB;AACA,cAAMT,UAAU,GAAGH,aAAa,CAACC,WAAD,CAAhC;AAEAM,QAAAA,YAAY,CAACM,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAed,WAAf,CAAjC;AACAM,QAAAA,YAAY,CAACM,OAAb,CAAqB,YAArB,EAAmCC,IAAI,CAACC,SAAL,CAAeZ,UAAf,CAAnC;AACAP,QAAAA,eAAe,CAAC,EAAD,CAAf;AACH,OARL,EASKoB,KATL,CASWC,KAAK,IAAE;AACVC,QAAAA,KAAK,CAACD,KAAK,CAACE,KAAP,CAAL;AACH,OAXL;AAYH;AACJ;;AACD,sBACI,QAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAExB,MAAAA,YAAF;AAAgBC,MAAAA;AAAhB,KAA7B;AAAA,2BACI,QAAC,YAAD,CAAc,QAAd;AAAuB,MAAA,KAAK,EAAE;AAAEC,QAAAA,WAAF;AAAeC,QAAAA;AAAf,OAA9B;AAAA,gBACKJ;AADL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAOH;;GAnCQD,e;;KAAAA,e;AAqCT,eAAeA,eAAf","sourcesContent":["import React, { useEffect, useState } from \"react\"\nconst axios = require('axios').default\n\n\nexport const ShopContext = React.createContext();\nexport const ModalContext = React.createContext();\n\nfunction ShoppingContext({ children }) {\n    const [cartProducts, setCartProducts] = useState({});\n    const [cartVisible, setCartVisible] = useState(false);\n\n    useEffect(setAllProducts, [])\n\n    function getCategories(allProducts) {\n        return allProducts.reduce((categories, product) => {\n            return categories.some(category => category === product.category) ? categories : [...categories, product.category]\n        }, []);\n    }\n    \n    function setAllProducts() {\n        if ((!localStorage.getItem(\"Products\"))||(!localStorage.getItem(\"Categories\"))) {\n            axios.get(\"https://fakestoreapi.com/products\")\n                .then((resp) => {\n                    const allProducts = resp.data;\n                    const categories = getCategories(allProducts);\n\n                    localStorage.setItem(\"Products\", JSON.stringify(allProducts));\n                    localStorage.setItem(\"Categories\", JSON.stringify(categories)); \n                    setCartProducts({});\n                })\n                .catch(error=>{\n                    alert(error.stack);\n                })\n        }\n    }\n    return (\n        <ShopContext.Provider value={{ cartProducts, setCartProducts}}>\n            <ModalContext.Provider value={{ cartVisible, setCartVisible }} >\n                {children}\n            </ModalContext.Provider>\n        </ShopContext.Provider>\n    )\n}\n\nexport default ShoppingContext;"]},"metadata":{},"sourceType":"module"}